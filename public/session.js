/*
 * session.js: Payment Session integration support.
 *
 * Copyright (c) 2015 MasterCard. All rights reserved.
 */

var PaymentSession =(function() {
    /* 
* session.js: Payment Session integration support. 
* 
* Copyright (c) 2015 MasterCard. All rights reserved. 
*/
!function r(i,o,a){function s(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){t.exports=function(){var i=e("./log.js")();function r(e,t,n,r){if(e.callbacks){t=e.callbacks[t];if("function"==typeof t)return void t(n)}r&&i.log(JSON.stringify(n))}return{invoke:function(e,t,n){r(e,t,n,!1)},invokeOrLog:function(e,t,n){r(e,t,n,!0)}}}},{"./log.js":2}],2:[function(e,t,n){t.exports=function(i){"use strict";function e(r){return function(e,t){var n;("debug"!==r||i)&&console&&"function"==typeof console[r]&&(n=e,void 0!==t&&(n=e+" "+JSON.stringify(t)),console[r](n))}}return{log:e("log"),debug:e("debug"),error:e("error")}}},{}],3:[function(e,t,n){t.exports=function(){function e(){var e=navigator.userAgent;return 0<=e.indexOf("MSIE")||0<=e.indexOf("Trident")&&0<=e.indexOf("rv:11")}function t(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}function n(){return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/)}function r(e){e=new RegExp(e,"gi");return navigator&&navigator.userAgent&&e.test(navigator.userAgent)}return{stringToHash:function(e){var t=0,n=e.length;if(0===n)return 0;for(var r=0;r<n;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t},isIE:e,isElementFocusable:function(e){return!e.hidden&&!e.disabled&&"hidden"!==e.type},isFirefox:t,isChrome:function(){return r("Chrome")},isAndroidDevice:function(){return r("Android")},isAppleDevice:n,needsFocusInterceptor:function(){return!(!t()&&!e())},needsFocusWorkaround:function(){return!!(n()&&(0<=(e=navigator.userAgent).indexOf("Safari")&&!(0<=e.indexOf("Chrome")||0<=e.indexOf("CriOS")))&&8<=(null==(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))?0:(e=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)],parseFloat(e.join(".")))));var e},isJson:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},isEmpty:function(e){return!String(e).trim()},sha256:function(e){return e=(new TextEncoder).encode(e),window.crypto.subtle.digest("SHA-256",e).then(function(e){return Array.from(new Uint8Array(e)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")})}}}},{}],4:[function(e,t,n){t.exports=function(r){"use strict";var i=e("./util.js")();return{send:function(e,t){t=JSON.stringify({type:e,payload:t}),(0<=navigator.userAgent.indexOf("Mobile")||0<=navigator.userAgent.indexOf("Android"))&&i.needsFocusWorkaround()&&(null==r||null==r.postMessage)||r.postMessage(t,"*")},listenFor:function(t,n){window.addEventListener("message",function(e){e.source==r&&(i.isIE()&&null==JSON||!i.isJson(e.data)||(e=JSON.parse(e.data)).type==t&&n(e.payload))},!1)}}}},{"./util.js":3}],5:[function(e,n,t){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(n,e){"use strict";function l(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function u(e){return null!=e&&e===e.window}var t=[],o=n.document,r=Object.getPrototypeOf,i=t.slice,s=t.concat,a=t.push,c=t.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h=p.toString,m=h.call(Object),g={},y={type:!0,src:!0,noModule:!0};function v(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var b=function(e,t){return new b.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,n=v(e);return!l(e)&&!u(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=b.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return b.each(this,e)},map:function(n){return this.pushStack(b.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:t.sort,splice:t.splice},b.extend=b.fn.extend=function(){var e,t,n,r,i,o=arguments[0]||{},a=1,s=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||l(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(n=e[t])&&(u&&n&&(b.isPlainObject(n)||(r=Array.isArray(n)))?(i=r?(r=!1,i&&Array.isArray(i)?i:[]):i&&b.isPlainObject(i)?i:{},o[t]=b.extend(u,i,n)):void 0!==n&&(o[t]=n));return o},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==f.call(e)||(e=r(e))&&("function"!=typeof(e=p.call(e,"constructor")&&e.constructor)||h.call(e)!==m))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){!function(e,t,n){var r,i=(t=t||o).createElement("script");if(i.text=e,n)for(r in y)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}(e)},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){t=t||[];return null!=e&&(C(Object(e))?b.merge(t,"string"==typeof e?[e]:e):a.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return s.apply([],a)},guid:1,support:g}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=t[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var w=function(n){function d(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function p(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function r(){w()}var e,h,x,o,i,m,f,g,C,u,c,w,k,a,S,y,s,l,v,E="sizzle"+ +new Date,b=n.document,A=0,N=0,F=ae(),T=ae(),L=ae(),O=function(e,t){return e===t&&(c=!0),0},j={}.hasOwnProperty,t=[],I=t.pop,D=t.push,q=t.push,P=t.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",_="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+B+"*("+_+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_+"))|)"+B+"*\\]",V=":("+_+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",z=new RegExp(B+"+","g"),U=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),$=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),J=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),Y=new RegExp(V),G=new RegExp("^"+_+"$"),K={ID:new RegExp("^#("+_+")"),CLASS:new RegExp("^\\.("+_+")"),TAG:new RegExp("^("+_+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/[+~]/,ne=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=ge(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{q.apply(t=P.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){q={apply:t.length?function(e,t){D.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,n,r){var i,o,a,s,u,c,l,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:b)!==k&&w(t),t=t||k,S)){if(11!==f&&(u=ee.exec(e)))if(i=u[1]){if(9===f){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&v(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&h.getElementsByClassName&&t.getElementsByClassName)return q.apply(n,t.getElementsByClassName(i)),n}if(h.qsa&&!L[e+" "]&&(!y||!y.test(e))){if(1!==f)d=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(re,p):t.setAttribute("id",s=E),o=(c=m(e)).length;o--;)c[o]="#"+s+" "+me(c[o]);l=c.join(","),d=te.test(e)&&pe(t.parentNode)||t}if(l)try{return q.apply(n,d.querySelectorAll(l)),n}catch(e){}finally{s===E&&t.removeAttribute("id")}}}return g(e.replace(U,"$1"),t,n,r)}function ae(){var n=[];function r(e,t){return n.push(e+" ")>x.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function se(e){return e[E]=!0,e}function ue(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function ce(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(a){return se(function(o){return o=+o,se(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=oe.support={},i=oe.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},w=oe.setDocument=function(e){var t,e=e?e.ownerDocument||e:b;return e!==k&&9===e.nodeType&&e.documentElement&&(a=(k=e).documentElement,S=!i(k),b!==k&&(t=k.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),h.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=ue(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Z.test(k.getElementsByClassName),h.getById=ue(function(e){return a.appendChild(e).id=E,!k.getElementsByName||!k.getElementsByName(E).length}),h.getById?(x.filter.ID=function(e){var t=e.replace(ne,d);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&S){e=t.getElementById(e);return e?[e]:[]}}):(x.filter.ID=function(e){var t=e.replace(ne,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),x.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},x.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},s=[],y=[],(h.qsa=Z.test(k.querySelectorAll))&&(ue(function(e){a.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+B+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+E+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(h.matchesSelector=Z.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){h.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),s.push("!=",V)}),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=Z.test(a.compareDocumentPosition),v=t||Z.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){return e===t?(c=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===b&&v(b,e)?-1:t===k||t.ownerDocument===b&&v(b,t)?1:u?M(u,e)-M(u,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===k?-1:t===k?1:i?-1:o?1:u?M(u,e)-M(u,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===b?-1:s[r]===b?1:0}),k},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==k&&w(e),t=t.replace(J,"='$1']"),h.matchesSelector&&S&&!L[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=l.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,k,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==k&&w(e),v(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==k&&w(e);var n=x.attrHandle[t.toLowerCase()],n=n&&j.call(x.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==n?n:h.attributes||!S?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},oe.escape=function(e){return(e+"").replace(re,p)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(O),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(x=oe.selectors={cacheLength:50,createPseudo:se,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=oe.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(z," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,m,g){var y="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,c=y!=v?"nextSibling":"previousSibling",l=e.parentNode,d=b&&e.nodeName.toLowerCase(),f=!n&&!b,p=!1;if(l){if(y){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&f){for(p=(s=(r=(i=(o=(a=l)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===A&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(p=s=0)||u.pop();)if(1===a.nodeType&&++p&&a===e){i[h]=[A,s,p];break}}else if(!1===(p=f?s=(r=(i=(o=(a=e)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===A&&r[1]:p))for(;(a=++s&&a&&a[c]||(p=s=0)||u.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(f&&((i=(o=a[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[A,p]),a!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,o){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[E]?a(o):1<a.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=M(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var r=[],i=[],s=f(e.replace(U,"$1"));return s[E]?se(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(ne,d),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return G.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(ne,d).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:fe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function he(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(a,e,t){var s=e.dir,u=e.next,c=u||s,l=t&&"parentNode"===c,d=N++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[A,d];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l)if(r=(i=e[E]||(e[E]={}))[e.uniqueID]||(i[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=r[c])&&i[0]===A&&i[1]===d)return o[2]=i[2];if((r[c]=o)[2]=a(e,t,n))return!0}return!1}}function ye(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function ve(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function be(p,h,m,g,y,e){return g&&!g[E]&&(g=be(g)),y&&!y[E]&&(y=be(y,e)),se(function(e,t,n,r){var i,o,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!p||!e&&h?l:ve(l,s,p,n,r),f=m?y||(e?p:c||g)?[]:t:d;if(m&&m(d,f,n,r),g)for(i=ve(f,u),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(f[u[o]]=!(d[u[o]]=a));if(e){if(y||p){if(y){for(i=[],o=f.length;o--;)(a=f[o])&&i.push(d[o]=a);y(null,f=[],i,r)}for(o=f.length;o--;)(a=f[o])&&-1<(i=y?M(e,a):s[o])&&(e[i]=!(t[i]=a))}}else f=ve(f===t?f.splice(c,f.length):f),y?y(null,t,f,r):q.apply(t,f)})}function xe(g,y){function e(e,t,n,r,i){var o,a,s,u=0,c="0",l=e&&[],d=[],f=C,p=e||b&&x.find.TAG("*",i),h=A+=null==f?1:Math.random()||.1,m=p.length;for(i&&(C=t===k||t||i);c!==m&&null!=(o=p[c]);c++){if(b&&o){for(a=0,t||o.ownerDocument===k||(w(o),n=!S);s=g[a++];)if(s(o,t||k,n)){r.push(o);break}i&&(A=h)}v&&((o=!s&&o)&&u--,e&&l.push(o))}if(u+=c,v&&c!==u){for(a=0;s=y[a++];)s(l,d,t,n);if(e){if(0<u)for(;c--;)l[c]||d[c]||(d[c]=I.call(r));d=ve(d)}q.apply(r,d),i&&!e&&0<d.length&&1<u+y.length&&oe.uniqueSort(r)}return i&&(A=h,C=f),l}var v=0<y.length,b=0<g.length;return v?se(e):e}return he.prototype=x.filters=x.pseudos,x.setFilters=new he,m=oe.tokenize=function(e,t){var n,r,i,o,a,s,u,c=T[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=x.preFilter;a;){for(o in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),a=a.slice(n.length)),x.filter)!(r=K[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):T(e,s).slice(0)},f=oe.compile=function(e,t){var n,r=[],i=[],o=L[e+" "];if(!o){for(n=(t=t||m(e)).length;n--;)((o=function e(t){for(var r,n,i,o=t.length,a=x.relative[t[0].type],s=a||x.relative[" "],u=a?1:0,c=ge(function(e){return e===r},s,!0),l=ge(function(e){return-1<M(r,e)},s,!0),d=[function(e,t,n){return n=!a&&(n||t!==C)||((r=t).nodeType?c:l)(e,t,n),r=null,n}];u<o;u++)if(n=x.relative[t[u].type])d=[ge(ye(d),n)];else{if((n=x.filter[t[u].type].apply(null,t[u].matches))[E]){for(i=++u;i<o&&!x.relative[t[i].type];i++);return be(1<u&&ye(d),1<u&&me(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(U,"$1"),n,u<i&&e(t.slice(u,i)),i<o&&e(t=t.slice(i)),i<o&&me(t))}d.push(n)}return ye(d)}(t[n]))[E]?r:i).push(o);(o=L(e,xe(i,r))).selector=e}return o},g=oe.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&m(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&S&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ne,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=K.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(ne,d),te.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&me(o)))return q.apply(n,r),n;break}}return(c||f(e,l))(r,t,!S,n,!t||te.test(e)&&pe(t.parentNode)||t),n},h.sortStable=E.split("").sort(O).join("")===E,h.detectDuplicates=!!c,w(),h.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(R,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),oe}(n);b.find=w,b.expr=w.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=w.uniqueSort,b.text=w.getText,b.isXMLDoc=w.isXML,b.contains=w.contains,b.escapeSelector=w.escape;function k(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&b(e).is(n))break;r.push(e)}return r}function S(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var E=b.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(e,n,r){return l(n)?b.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?b.grep(e,function(e){return e===n!==r}):"string"!=typeof n?b.grep(e,function(e){return-1<c.call(n,e)!==r}):b.filter(n,e,r)}b.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?b.find.matchesSelector(r,e)?[r]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<r;t++)if(b.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)b.find(e,i[t],n);return 1<r?b.uniqueSort(n):n},filter:function(e){return this.pushStack(F(this,e||[],!1))},not:function(e){return this.pushStack(F(this,e||[],!0))},is:function(e){return!!F(this,"string"==typeof e&&E.test(e)?b(e):e||[],!1).length}});var T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){if(!e)return this;if(n=n||L,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):l(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:T.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),N.test(r[1])&&b.isPlainObject(t))for(var r in t)l(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=o.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=b.fn;var L=b(o),O=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&b(e);if(!E.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&b.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?b.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(b(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(r,i){b.fn[r]=function(e,t){var n=b.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=b.filter(t,n)),1<this.length&&(j[r]||b.uniqueSort(n),O.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;b.readyException=function(e){n.setTimeout(function(){throw e})};function q(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===v(n))for(s in i=!0,n)q(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,l(r)||(a=!0),t=c?a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(b(e),n)}):t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o}var P=/^-ms-/,M=/-([a-z])/g;function R(e,t){return t.toUpperCase()}function B(e){return e.replace(P,"ms-").replace(M,R)}function _(){this.expando=b.expando+_.uid++}_.uid=1,_.prototype={cache:function(e){var t,n=e[this.expando];return n||(n={},1!==(t=e).nodeType&&9!==t.nodeType&&+t.nodeType||(e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,configurable:!0}))),n},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[B(t)]=n;else for(r in t)i[B(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][B(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(B):(t=B(t))in r?[t]:t.match(D)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!b.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var H=new _,V=new _,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function W(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:z.test(i)?JSON.parse(i):i)}catch(e){}V.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return V.hasData(e)||H.hasData(e)},data:function(e,t,n){return V.access(e,t,n)},removeData:function(e,t){V.remove(e,t)},_data:function(e,t,n){return H.access(e,t,n)},_removeData:function(e,t){H.remove(e,t)}}),b.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){V.set(this,n)}):q(this,function(e){var t;return o&&void 0===e?void 0!==(t=V.get(o,n))||void 0!==(t=W(o,n))?t:void 0:void this.each(function(){V.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=V.get(o),1===o.nodeType&&!H.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=B(r.slice(5)),W(o,r,i[r]));H.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){V.remove(this,e)})}});function $(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&b.contains(e.ownerDocument,e)&&"none"===b.css(e,"display")}function J(e,t,n,r){var i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.apply(e,r||[]),t)e.style[i]=o[i];return r}var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),G=["Top","Right","Bottom","Left"];var K={};function X(e,t){for(var n,r,i,o,a,s=[],u=0,c=e.length;u<c;u++)(r=e[u]).style&&(n=r.style.display,t?("none"===n&&(s[u]=H.get(r,"display")||null,s[u]||(r.style.display="")),""===r.style.display&&$(r)&&(s[u]=(a=o=void 0,o=(i=r).ownerDocument,a=i.nodeName,(i=K[a])||(o=o.body.appendChild(o.createElement(a)),i=b.css(o,"display"),o.parentNode.removeChild(o),K[a]=i="none"===i?"block":i)))):"none"!==n&&(s[u]="none",H.set(r,"display",n)));for(u=0;u<c;u++)null!=s[u]&&(e[u].style.display=s[u]);return e}b.fn.extend({show:function(){return X(this,!0)},hide:function(){return X(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$(this)?b(this).show():b(this).hide()})}});function Q(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?n:t).getComputedStyle(e)}var Z,ee,te,ne,re,ie,oe,ae=o.documentElement,se=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),ue=new RegExp(G.join("|"),"i");function ce(e,t,n){var r,i,o=e.style;return(n=n||Q(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||b.contains(e.ownerDocument,e)||(i=b.style(e,t)),!g.pixelBoxStyles()&&se.test(i)&&ue.test(t)&&(r=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=n.width,o.width=r,o.minWidth=e,o.maxWidth=t)),void 0!==i?i+"":i}function le(){var e;oe&&(ie.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",oe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(ie).appendChild(oe),e=n.getComputedStyle(oe),Z="1%"!==e.top,re=12===de(e.marginLeft),oe.style.right="60%",ne=36===de(e.right),ee=36===de(e.width),oe.style.position="absolute",te=36===oe.offsetWidth||"absolute",ae.removeChild(ie),oe=null)}function de(e){return Math.round(parseFloat(e))}ie=o.createElement("div"),(oe=o.createElement("div")).style&&(oe.style.backgroundClip="content-box",oe.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===oe.style.backgroundClip,b.extend(g,{boxSizingReliable:function(){return le(),ee},pixelBoxStyles:function(){return le(),ne},pixelPosition:function(){return le(),Z},reliableMarginLeft:function(){return le(),re},scrollboxSize:function(){return le(),te}}));var fe,pe,he=/^(none|table(?!-c[ea]).+)/,me=/^--/,ge={position:"absolute",visibility:"hidden",display:"block"},ye={letterSpacing:"0",fontWeight:"400"},ve=["Webkit","Moz","ms"],be=o.createElement("div").style;function xe(e){return b.cssProps[e]||(b.cssProps[e]=function(e){if(e in be)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ve.length;n--;)if((e=ve[n]+t)in be)return e}(e)||e)}function Ce(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function we(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=b.css(e,n+G[a],!0,i)),r?("content"===n&&(u-=b.css(e,"padding"+G[a],!0,i)),"margin"!==n&&(u-=b.css(e,"border"+G[a]+"Width",!0,i))):(u+=b.css(e,"padding"+G[a],!0,i),"padding"!==n?u+=b.css(e,"border"+G[a]+"Width",!0,i):s+=b.css(e,"border"+G[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function ke(e,t,n){var r=Q(e),i=ce(e,t,r),o="border-box"===b.css(e,"boxSizing",!1,r),a=o;if(se.test(i)){if(!n)return i;i="auto"}return a=a&&(g.boxSizingReliable()||i===e.style[t]),"auto"!==i&&(parseFloat(i)||"inline"!==b.css(e,"display",!1,r))||(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+we(e,t,n||(o?"border":"content"),a,r,i)+"px"}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=ce(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=B(t),u=me.test(t),c=e.style;if(u||(t=xe(s)),a=b.cssHooks[t]||b.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return b.css(e,t,"")},u=s(),c=n&&n[3]||(b.cssNumber[t]?"":"px"),l=(b.cssNumber[t]||"px"!==c&&+u)&&Y.exec(b.css(e,t));if(l&&l[3]!==c){for(c=c||l[3],l=+(u/=2)||1;a--;)b.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;b.style(e,t,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(b.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o=B(t);return me.test(t)||(t=xe(o)),"normal"===(i=void 0===(i=(o=b.cssHooks[t]||b.cssHooks[o])&&"get"in o?o.get(e,!0,n):i)?ce(e,t,r):i)&&t in ye&&(i=ye[t]),""===n||n?(t=parseFloat(i),!0===n||isFinite(t)?t||0:i):i}}),b.each(["height","width"],function(e,a){b.cssHooks[a]={get:function(e,t,n){if(t)return!he.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ke(e,a,n):J(e,ge,function(){return ke(e,a,n)})},set:function(e,t,n){var r,i=Q(e),o="border-box"===b.css(e,"boxSizing",!1,i),n=n&&we(e,a,n,o,i);return o&&g.scrollboxSize()===i.position&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-we(e,a,"border",!1,i)-.5)),n&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[a]=t,t=b.css(e,a)),Ce(0,t,n)}}}),b.cssHooks.marginLeft=(fe=g.reliableMarginLeft,pe=function(e,t){if(t)return(parseFloat(ce(e,"marginLeft"))||e.getBoundingClientRect().left-J(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"},{get:function(){if(!fe())return(this.get=pe).apply(this,arguments);delete this.get}}),b.each({margin:"",padding:"",border:"Width"},function(i,o){b.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+G[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(b.cssHooks[i+o].set=Ce)}),b.fn.extend({css:function(e,t){return q(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Q(e),i=t.length;a<i;a++)o[t[a]]=b.css(e,t[a],!1,r);return o}return void 0!==n?b.style(e,t,n):b.css(e,t)},e,t,1<arguments.length)}}),w=o.createElement("input"),t=o.createElement("select").appendChild(o.createElement("option")),w.type="checkbox",g.checkOn=""!==w.value,g.optSelected=t.selected,(w=o.createElement("input")).value="t",w.type="radio",g.radioValue="t"===w.value;var Se,Ee=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return q(this,b.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?b.prop(e,t,n):(1===o&&b.isXMLDoc(e)||(i=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?Se:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=b.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Se={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Ee[t]||b.find.attr;Ee[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=Ee[o],Ee[o]=r,r=null!=a(e,t,n)?o:null,Ee[o]=i),r}});var Ae=/^(?:input|select|textarea|button)$/i,Ne=/^(?:a|area)$/i;function Fe(e){return(e.match(D)||[]).join(" ")}function Te(e){return e.getAttribute&&e.getAttribute("class")||""}function Le(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}b.fn.extend({prop:function(e,t){return q(this,b.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(e)||(t=b.propFix[t]||t,i=b.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):Ae.test(e.nodeName)||Ne.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(b.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(t){var e,n,r,i,o,a,s=0;if(l(t))return this.each(function(e){b(this).addClass(t.call(this,e,Te(this)))});if((e=Le(t)).length)for(;n=this[s++];)if(a=Te(n),r=1===n.nodeType&&" "+Fe(a)+" "){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(a=Fe(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0;if(l(t))return this.each(function(e){b(this).removeClass(t.call(this,e,Te(this)))});if(!arguments.length)return this.attr("class","");if((e=Le(t)).length)for(;n=this[s++];)if(a=Te(n),r=1===n.nodeType&&" "+Fe(a)+" "){for(o=0;i=e[o++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a!==(a=Fe(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,t){var o=typeof i,a="string"==o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):l(i)?this.each(function(e){b(this).toggleClass(i.call(this,e,Te(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=b(this),r=Le(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=o||((e=Te(this))&&H.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&H.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Fe(Te(t))+" ").indexOf(r))return!0;return!1}});var Oe=/\r/g;b.fn.extend({val:function(t){var n,e,r,i=this[0];return arguments.length?(r=l(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,b(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=b.map(e,function(e){return null==e?"":e+""})),(n=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):i?(n=b.valHooks[i.type]||b.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(Oe,""):null==e?"":e:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:Fe(b.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,i="select-one"===e.type,o=i?null:[],a=i?r+1:n.length,s=r<0?a:i?r:0;s<a;s++)if(((t=n[s]).selected||s===r)&&!t.disabled&&(!t.parentNode.disabled||!A(t.parentNode,"optgroup"))){if(t=b(t).val(),i)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,o=b.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<b.inArray(b.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<b.inArray(b(e).val(),t)}},g.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.createHTMLDocument=((w=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===w.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,t.head.appendChild(r)):t=o),r=!n&&[],(n=N.exec(e))?[t.createElement(n[1])]:(n=buildFragment([e],t,r),r&&r.length&&b(r).remove(),b.merge([],n.childNodes)));var r},b.each({Height:"height",Width:"width"},function(a,s){b.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){b.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return q(this,function(e,t,n){var r;return u(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?b.css(e,t,i):b.style(e,t,n,i)},s,n?e:void 0,n)}})}),"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var je=n.jQuery,Ie=n.$;b.noConflict=function(e){return n.$===b&&(n.$=Ie),e&&n.jQuery===b&&(n.jQuery=je),b},e||(n.jQuery=n.$=b);var De=[],qe=function(e){De.push(e)};function Pe(){o.removeEventListener("DOMContentLoaded",Pe),n.removeEventListener("load",Pe),b.ready()}return b.fn.ready=function(e){return qe(e),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0)!==e&&0<--b.readyWait||(qe=function(e){for(De.push(e);De.length;)e=De.shift(),l(e)&&function(e){n.setTimeout(function(){e.call(o,b)})}(e)})()}}),b.ready.then=b.fn.ready,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?n.setTimeout(b.ready):(o.addEventListener("DOMContentLoaded",Pe),n.addEventListener("load",Pe)),b})},{}],6:[function(e,t,n){t.exports=function(e,t,n){"use strict";var r,i=!1;return t&&(r=e(t),i=!0),{copyStyles:function(){},isCreated:function(){return i},getValue:function(){return r.val()},isSensitiveFieldProxy:function(){return!1},selector:t,role:n,focus:function(){r.focus()}}}},{}],7:[function(t,e,n){e.exports=function(n,e){var r=t("../../common/log.js")(e),i=[],o=0;function a(){var e,t;r.debug("processNextRequest: "),0!==i.length&&(void 0!==i[0].url?((e=document.createElement("script")).src=i[0].url,e.async=!0,(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t),s(1e3*n,{status:"request_timeout",requestCounter:i[0].requestCounter})):s(1,i[0].response))}function s(e,t){window.setTimeout(function(){u(t)},e)}function u(e){r.debug("callback: "),r.debug("response: ",e),0!==i.length&&i[0].requestCounter===e.requestCounter&&(delete e.requestCounter,"function"==typeof i[0].callback&&i[0].callback(e),i.shift(),a())}return{simulateJsonpRequest:function(e,t){r.debug("simulateJsonpRequest: "),r.debug("response: ",e),o++,e.requestCounter=o,i.push({response:e,callback:t,requestCounter:o}),1<i.length||a()},jsonpRequest:function(e,t){r.debug("jsonpRequest: "),r.debug("url: "+e),o++,e=e+(-1<e.indexOf("?")?"&":"?")+"rc="+o,i.push({url:e,callback:t,requestCounter:o}),1<i.length||a()},callback:u}}},{"../../common/log.js":2}],8:[function(t,e,n){e.exports=function(s,o,u,c,l,e){var d=t("../../common/log.js")(e),a=t("../../vendor/jquery-custom.min.js");function f(e,t,n,r,i){d.debug("setVisaCheckoutHandlers: ");try{V.init(function(e){d.debug("mapVMeOptions: ");var t={settings:{review:{buttonAction:"Pay"},shipping:{collectShipping:!1}}};a.extend(!0,t,e.wallets.visaCheckout),delete t.enabled,t.apikey=u.apiKey,e.order&&(t.paymentRequest||(t.paymentRequest={}),t.paymentRequest.currencyCode=e.order.currency,t.paymentRequest.total=e.order.amount);return d.debug("mapVMeOptions: ",t),t}(r))}catch(e){l.simulateJsonpRequest({status:"system_error",message:e},t)}V.on("payment.success",function(e){d.debug("payment.success: ",e),function(e,t,n){d.debug("doVisaCheckoutPostLightboxProcessing: ");t=function(e,t){d.debug("buildVisaCheckoutPostLightboxRequestUrl: ");e=s+"/merchant/"+o+"/callId/"+e;t&&(e=e+"?s="+t);return d.debug("buildVisaCheckoutPostLightboxRequestUrl: ",e),e}(e,t);d.debug("doVisaCheckoutPostLightboxProcessing: ",t),l.jsonpRequest(t,n)}(e.callid,i,n)}),V.on("payment.cancel",function(e){d.debug("payment.cancel: ",e),l.simulateJsonpRequest({status:"cancelled"},n)}),V.on("payment.error",function(e,t){d.debug("payment.error: ",e),d.debug("payment.error: ",t),l.simulateJsonpRequest({status:"system_error",message:t},n)}),e()}return{configure:function(e,t){var n,r;d.debug("configureVisaCheckout: "),d.debug("loadVisaCheckoutSdk: "),u.enabledForVMe&&(document.getElementById("tnsVMeSdkScript")||(window.onVmeReady=function(){},(n=document.createElement("script")).setAttribute("id","tnsVMeSdkScript"),n.setAttribute("type","text/javascript"),0===u.vmeSdkUrl.lastIndexOf("/",0)?(r=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(s),n.setAttribute("src",r[1]+r[3]+u.vmeSdkUrl)):n.setAttribute("src",u.vmeSdkUrl),document.getElementsByTagName("head")[0].appendChild(n)));var i=e.session,o=e.callbacks.initialized,a=e.callbacks.visaCheckout;l.simulateJsonpRequest({},function(){u.apiKey?u.enabledForVMe?function e(t,n,r,i,o,a){d.debug("waitForSdkAndSetHandlers: ");if("undefined"!=typeof V)return void f(t,n,r,i,o);if(a<0)return void l.simulateJsonpRequest({status:"system_error",message:"Visa Checkout SDK has not been loaded."},n);window.setTimeout(function(){e(t,n,r,i,o,a-200)},200)}(t,o,a,e,i,1e3*c):l.simulateJsonpRequest({status:"system_error",message:"Visa Checkout is not enabled."},o):l.simulateJsonpRequest({status:"system_error",message:"Visa Checkout API key could not be loaded."},o)})}}}},{"../../common/log.js":2,"../../vendor/jquery-custom.min.js":5}],9:[function(h,e,t){e.exports=function(i,o,n,r,a,e){var s,u,c,l,d,f=h("../../common/log.js")(e);h("../../vendor/jquery-custom.min.js");function p(e){var t;"ok"===e.status&&e.encryptedData?(f.debug("Add amex buy tag. "),s=s||e.session,(t=document.createElement("amex:buy")).setAttribute("encrypted_data",e.encryptedData),document.getElementsByTagName("body")[0].appendChild(t),t=function(){var e=document.createElement("script");e.setAttribute("id","aecCallback"),e.setAttribute("type","text/javascript");var t="aecCallback"+(new Date).getTime(),n="var "+t+" = function(response) {";return e.innerHTML=n+="PaymentSession.aecCallbackInternal(response); }",document.getElementsByTagName("body")[0].appendChild(e),t}(),function(e,t){f.debug("adding amex:init tag");var n,r=e.wallets.amexExpressCheckout.initTags,i=document.createElement("amex:init");for(n in r)"callback"==n||i.setAttribute(n,r[n]);i.setAttribute("callback",t),document.getElementsByTagName("body")[0].appendChild(i)}(d,t),function(){{var e,t;f.debug("loadAmexExpressSdk: "),document.getElementById("tnsAmexExpressCheckoutSdkScript")||(window.onAmexExpressCheckoutReady=function(){},(e=document.createElement("script")).setAttribute("id","tnsAmexExpressCheckoutSdkScript"),e.setAttribute("type","text/javascript"),0===n.amexSdkUrl.lastIndexOf("/",0)?(t=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(i),e.setAttribute("src",t[1]+t[3]+n.amexSdkUrl)):e.setAttribute("src",n.amexSdkUrl),document.getElementsByTagName("head")[0].appendChild(e))}}(),function e(t,n){f.debug("waitForAmexSdk:"),"undefined"==typeof $amex?t<0?a.simulateJsonpRequest({status:"system_error",message:"Amex Checkout SDK has not been loaded."},n):window.setTimeout(function(){e(t-200,n)},200):l()}(1e3*r,c)):(f.error("Amex Checkout could not be initialized."),a.simulateJsonpRequest({status:"system_error",message:"Amex Checkout could not be initialized."},c))}function t(e){e=function(e){var t=i+"/merchant/"+o+"/wallet/AMEX_EXPRESS_CHECKOUT/update_session_from_wallet",n="";s&&(n=n+"s="+s);e.auth_code&&(n=n+"&auth_code="+e.auth_code);e.card_type&&(n=n+"&card_type="+e.card_type);e.transaction_id&&(n=n+"&transaction_id="+e.transaction_id);e.wallet_id&&(n=n+"&wallet_id="+e.wallet_id);return t=t+"?"+n,f.debug("buildAmexCheckoutPostLightboxRequestUrl: ",t),t}(e);f.debug("doAmexCheckoutPostLightboxProcessing: ",e),a.jsonpRequest(e,u)}return{configure:function(e,t){f.debug("configureAmexExpressCheckout: "),c=e.callbacks.initialized,u=e.callbacks.amexExpressCheckout,l=t,s=e.session,d=e,a.simulateJsonpRequest({},function(){n.enabledForAmexExpressCheckout?function(e,t){f.debug("sendAmexExpressCheckoutPreLightboxRequest: ");t=function(e,t){f.debug("buildAmexExpressCheckoutPreLightboxRequestUrl: ");var n=i+"/merchant/"+o+"/wallet/AMEX_EXPRESS_CHECKOUT/open_wallet",r="";t&&(r=r+"s="+t);e.order.amount&&(r=r+"&amount="+e.order.amount);e.order.currency&&(r=r+"&currencyCode="+e.order.currency);return n=n+"?"+r,f.debug("buildAmexExpressCheckoutPreLightboxRequestUrl: ",n),n}(e,t);a.jsonpRequest(t,p)}(e,s):a.simulateJsonpRequest({status:"system_error",message:"Amex Express Checkout is not enabled."},c)})},aecCallbackInternal:function(e){t(e)}}}},{"../../common/log.js":2,"../../vendor/jquery-custom.min.js":5}],10:[function(n,e,t){window.PaymentSessionInternal=function(o,a,s,e,t){"use strict";var u=n("./initializationNotifications.js"),c=n("./paymentSession.js"),l=n("../../vendor/jquery-custom.min.js"),d=n("../../common/log.js")(s),f=JSON.parse(t),t=n("../34/jsonp.js")(e,s),p=n("../34/visaCheckout.js")(o,a,f,e,t,s),h=n("../36/amexExpressCheckout.js")(o,a,f,e,t,s),m=0===a.toUpperCase().indexOf("TEST"),g=["javascript","x-frame-options","csp"],y=[];function v(e,t,n){e&&n.notifyFailure(t,"system_error","Invalid wallet configuration. A wallet can not be configured with the scope parameter.")}function b(n){var r;return l.each(y,function(e,t){return t.scopeId!==n||(r=t.delegate,!1)}),r}function x(e,t,n){var r=e.callbacks[n];"function"==typeof r&&(e.callbacks[n]=function(e){e=l.extend(!0,e,t);r(e)})}function r(n,r){l.each(y,function(e,t){r&&r!==t.scopeId||n(t.delegate)})}return{configure:function(t,e){if("object"!=typeof t)throw"PaymentSession.configure() requires a configuration object parameter.";"object"!=typeof t.callbacks&&(d.log("Configuration object does not have a 'callbacks' object attribute."),t.callbacks={});var n=new u;try{!function(e){if(!Array.isArray(e.frameEmbeddingMitigation)||0===e.frameEmbeddingMitigation.length){var t="Invalid configuration field frameEmbeddingMitigation. Expected an array with at least one element.";if(m)return d.log(t);throw t}l.each(e.frameEmbeddingMitigation,function(e,t){if(g.indexOf(t)<0){t="Invalid frameEmbeddingMitigation value: "+t;if(!m)throw t;d.log(t)}})}(t)}catch(e){return d.error(e),void n.notifyFailure(t,"system_error",e)}if(document.all&&document.querySelector&&!document.addEventListener)return d.error("Browser not supported."),void n.notifyFailure(t,"system_error","Browser not supported.");var r,i=l.extend(!0,{baseUrl:o,merchant:a,debug:s},t);!function(e,t,n){var r=b(e);void 0===r&&(r=new c(s,f,e),y.push({scopeId:e,delegate:r}));(function(e,t){"object"==typeof t&&"object"==typeof t.callbacks&&e&&(x(t,e={scopeId:e},"formSessionUpdate"),x(t,e,"initialized"))})(e,t),r.configure(t,n)}(e,i,n),r=e,t=n,"object"==typeof(e=i).wallets?(function(e,t,n){var r=t.wallets.visaCheckout;"object"==typeof r&&r.enabled?(v(e,t,n),p.configure(t,function(){n.markVisaCheckoutInitialized(),n.notifyIfComplete(t)})):n.markVisaCheckoutInitialized()}(r,e,t),function(e,t,n){var r=t.wallets.amexExpressCheckout;"object"==typeof r&&"false"!==r.enabled?(v(e,t,n),h.configure(t,function(){n.markAmexExpressCheckoutInitialized(),n.notifyIfComplete(t)})):n.markAmexExpressCheckoutInitialized()}(r,e,t)):(t.markVisaCheckoutInitialized(),t.markAmexExpressCheckoutInitialized()),n.notifyIfComplete(i)},updateSessionFromForm:function(e,t,n){return b(n).updateSessionFromForm(e,t)},setFocus:function(e,t){b(t).setFocus(e)},setFocusStyle:function(t,n,e){r(function(e){e.setFocusStyle(t,n)},e)},setHoverStyle:function(t,n,e){r(function(e){e.setFieldProperty(t,"setHoverStyle",n)},e)},setMessage:function(t,n,e){r(function(e){e.setFieldProperty([t],"hiddenMessage",n)},e)},setPlaceholderStyle:function(t,n,e){r(function(e){e.setFieldProperty(t,"placeholderStyle",n)},e)},setPlaceholderShownStyle:function(t,n,e){r(function(e){e.setFieldProperty(t,"placeholderShownStyle",n)},e)},validate:function(t,n,e){r(function(e){e.validate(t,n)},e)},onFocus:function(t,n,e){r(function(e){e.onFocus(t,n)},e)},onBlur:function(t,n,e){r(function(e){e.onBlur(t,n)},e)},onChange:function(t,n,e){r(function(e){e.onChange(t,n)},e)},onMouseOver:function(t,n,e){r(function(e){e.onMouseOver(t,n)},e)},onMouseOut:function(t,n,e){r(function(e){e.onMouseOut(t,n)},e)},onValidityChange:function(t,n,e){r(function(e){e.onValidityChange(t,n)},e)},onCardTypeChange:function(t,e){r(function(e){e.onCardTypeChange(t)},e)},onEmptinessChange:function(t,n,e){r(function(e){e.onEmptinessChange(t,n)},e)},onCardBINChange:function(t,e){r(function(e){e.onCardBINChange(t)},e)},callback:t.callback,aecCallbackInternal:h.aecCallbackInternal,clearFields:function(e){b(e).clearField()}}}},{"../../common/log.js":2,"../../vendor/jquery-custom.min.js":5,"../34/jsonp.js":7,"../34/visaCheckout.js":8,"../36/amexExpressCheckout.js":9,"./initializationNotifications.js":15,"./paymentSession.js":16}],11:[function(e,t,n){t.exports=function(c,l,d,f,p,h,m,g,y){"use strict";var v,b,x,C,w=e("../../common/xd.js"),o=e("../../common/log.js")(),k=e("../../common/util.js")(),S=e("./focus-interceptor.js")(),E=!1,A={},N={},F=!1,n=!1,T={},L=["-webkit-text-fill-color"];var r=function(e,t){var n,r=c(e)[0],i={};if(window.getComputedStyle){for(var o,a=0,s=(o=window.getComputedStyle(r)).length;a<s;a++){var u=o.item(a);(n=u).match(/^margin.*/)||~L.indexOf(n)||(i[u]=o.getPropertyValue(u))}return t&&c.extend(i,N),i.width=c(e).css("width"),i.height=c(e).css("height"),i}return null},i=function(e){var e=c(e)[0],o={};return c.each(e.attributes,function(e,t){for(var n=t.name,r=[/aria-/i,/data-/i],i=0;i<r.length;i++)n.match(r[i])&&(o[n]=t.value)}),o},a=function(e){var t=c(e)[0],n=t.disabled,r=JSON.stringify(i(b)),e=window.getComputedStyle(t),t=e.cssText;if(t)return k.stringToHash(t+r+n);e=function(e){var t,n={};for(t in e)n[t]=e[t];return n}(e);return k.stringToHash(JSON.stringify(e)+r+n)};function O(){var e=r(b,!1),t=i(b);!e&&c.isEmptyObject(t)||(C=a(b),v.hide(),b.prop("hidden",!1),b.show(),b.removeAttr("readonly"),e=r(b,E),v.css({width:b.css("width"),height:b.css("height"),marginTop:b.css("margin-top"),marginBottom:b.css("margin-bottom"),marginLeft:b.css("margin-left"),marginRight:b.css("margin-right"),boxShadow:b.css("box-shadow"),borderRadius:b.css("border-radius")}),E&&N.boxShadow&&v.css({boxShadow:N.boxShadow}),b.attr("readonly",""),b.hide(),b.prop("hidden",!0),v.show(),x.send("style",{css:e,placeholder:b.attr("placeholder"),disabled:b.prop("disabled"),attributes:t}))}function j(){a(b)!=C&&O()}function t(e,t){T.hasOwnProperty(e)||(T[e]=t)}function s(e,t){x.send(e,t)}return{create:function(e){if(!f)return!1;if(0===(b=c(f)).length)return!1;if(!1==(a=e,void 0===(o=b).attr("readonly")?(a({status:"system_error",message:"Cannot attach to a sensitive field without 'readonly' attribute!"}),!1):!o.attr("name")||(a({status:"system_error",message:"Cannot attach to a sensitive field that has the 'name' attribute!"}),!1)))return!1;if(!1===function(e){if(m.interaction&&m.interaction.displayControl){var t=m.interaction.displayControl.formatCard;if(t&&"PLAIN"!==t&&"EMBOSSED"!==t)return e({status:"system_error",message:"Value '"+t+"' is not permitted for configuration field interaction.displayControl.formatCard. Permitted values are: PLAIN, EMBOSSED"}),!1;t=m.interaction.displayControl.invalidFieldCharacters;if(t&&"ALLOW"!==t&&"REJECT"!==t)return e({status:"system_error",message:"Value '"+t+"' not permitted for configuration field interaction.displayControl.invalidFieldCharacters. Permitted values are: ALLOW, REJECT"}),!1}return!0}(e))return!1;var t=document.createElement("iframe");v=c(t);var n=b.prop("tagName");"SELECT"===n.toUpperCase()&&function(e,t){if(t&&t.length&&e&&e.length)for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=i.attributes,a=0;a<o.length;a++){var s=o[a];-1===e.indexOf(s.name)&&i.removeAttribute(s.name)}}(["value"],b[0].options);var r=b[0].innerHTML,i=m.locale,o=Date.now(),a=l+"/merchant/"+d+"/role/"+p+"/inputField.do?debug="+h+"&cacheToken="+o;function s(e,t){e=A[e];e&&e.apply(null,t?[f,t,p]:[f,p])}function u(e){var t=document.getElementById(e).contentWindow.document.getElementsByTagName("input");if(t){for(var n=0;n<t.length;n++)t[n].value="";document.getElementById("#expiry-month").contentWindow.document.getElementsByTagName("input")[0].value="",document.getElementById("#expiry-year").contentWindow.document.getElementsByTagName("input")[0].value="",document.getElementById("#security-code").contentWindow.document.getElementsByTagName("input")[0].value=""}}return i&&(a=a+"&locale="+i),v.attr({src:a,autocomplete:"false",id:f}),v.addClass("gw-proxy-"+p),v.css({border:"0px"}),(e=b[0]).hasAttribute("tabindex")&&v.attr("tabindex",e.getAttribute("tabindex")),e.parentNode.insertBefore(t,e.nextSibling),v.hide(),g.elementType=b.attr("type"),k.needsFocusInterceptor()&&(a=function(){x.send("focus")},g.timestamp=o,o=S.create(g,S.BACK,a),a=S.create(g,S.FORWARD,a),e.parentNode.insertBefore(o,e),e.parentNode.insertBefore(a,t.nextSibling)),(x=w(v[0].contentWindow||v[0])).listenFor("checkPreviousActiveElement",function(e){window.parent.focusInMainWindow&&(window.parent.focusInMainWindow=!1,x.send("previousFocusInMainWindow",e))}),x.listenFor("loaded",function(){for(var e in F=!0,b.hide(),x.send("configuration",m),x.send("properties",g),x.send("checkElement",{elementTag:n,innerHtml:r,role:p}),T)T.hasOwnProperty(e)&&x.send(e,T[e]);v.show(),i=i||"en_US",x.send("htmlLang",i),O(),k.isIE()||setInterval(function(){var e;e=document.activeElement==v[0],E&&!e&&(E=!1,O()),e&&(E||(E=!0,x.send("focus"),O()))},50),void 0!==C&&setInterval(function(){k.isIE()?j():(b.prop("hidden",!1).show(),j(),b.prop("hidden",!0).hide())},50);var t=!1;window.addEventListener("resize",function(){t=!0}),setInterval(function(){t&&(b.prop("hidden",!1).show(),j(),b.prop("hidden",!0).hide(),t=!1)},200)}),x.listenFor("changeEvent",function(e){y("applyChangeEventValue",e)}),x.listenFor("clearAutofillFields",function(e){"number"===e.role&&"#card-number"===f?u("#name-on-card-exactly-shown-on-card"):"nameOnCard"===e.role&&"#name-on-card-exactly-shown-on-card"===f&&u("#card-number"),y("applyClearEventValue",e)}),x.listenFor("blur",function(){s("blur")}),x.listenFor("focus",function(){s("focus")}),x.listenFor("change",function(){s("change")}),x.listenFor("validation",function(e){s("validation",e)}),x.listenFor("validityChange",function(e){s("validityChange",e)}),x.listenFor("onCardBINChange",function(e){s("onCardBINChange",e)}),x.listenFor("cardTypeChange",function(e){s("cardTypeChange",e)}),x.listenFor("emptinessChange",function(e){s("emptinessChange",e)}),x.listenFor("mouseover",function(){s("mouseover")}),x.listenFor("mouseout",function(){s("mouseout")}),x.listenFor("validationUpdate",function(e){y("validationUpdate",e)}),x.listenFor("TRIGGER_FOCUS_CHANGE",function(e){var t,n=[].slice.call(document.querySelectorAll("input,select,button,textarea")),r=e.direction===S.BACK?-1:1,e=document.getElementById(e.id),i=n.indexOf(e);do{if((i+=r)<0||i>n.length-1)return}while(t=n[i],!k.isElementFocusable(t));t&&t.focus()}),b.addClass("gw-proxied"),b.data("display",b.css("display")),!0},createAdditionalData:function(e){if(!f)return!1;if(0===(b=c(f)).length)return!1;var t=document.createElement("iframe");v=c(t);var n=l+"/merchant/"+d+"/role/"+p+"/inputField.do?debug="+h+"&cacheToken="+Date.now();return v.attr({src:n,autocomplete:"false"}),v.addClass("gw-proxy-"+p),v.css({border:"0px"}),(n=b[0]).parentNode.insertBefore(t,n.nextSibling),v.hide(),(x=w(v[0].contentWindow||v[0])).listenFor("loaded",function(){F=!0,x.send("configuration",m)}),!0},copyStyles:O,createOrValidateSession:function(e,t,n){x.send("createOrValidateSession",{sessionId:e,context:t}),x.listenFor("sessionCreatedOrValidated",n)},updateSessionWithValue:function(e,t,n,r,i){!function(e){if(e)for(var t in e)if(e.hasOwnProperty(t)&&""!==e[t]&&"expiryMonth"!==t&&"expiryYear"!==t&&"accountType"!==t){t="Unable to update session with value for field: "+t;throw o.error(t),t}}(n),x.send("updateSessionWithValue",{sessionId:e,sourceOfFundsType:t,extraFields:n,giftCardType:r}),x.listenFor("sessionUpdatedWithValue",i)},commitSession:function(e,t){x.send("commitSession",{sessionId:e,frameEmbeddingMitigation:m.frameEmbeddingMitigation}),n||(x.listenFor("sessionCommitted",t),n=!0)},onFieldError:function(e){x.send("fieldError",{type:e})},isSensitiveFieldProxy:function(){return!0},isCreated:function(){return F},selector:f,role:p,registerEventCallback:function(e,t){A[e]=t},registerFocusStyle:function(e){N=e,k.isIE()&&(t("focusStyle",e),s("focusStyle",e))},registerFieldProperty:t,setFieldProperty:s,validate:function(){x.send("validate")},focus:function(){x.send("initialFocus",{role:p})},sendData:function(e,t){x.send(e,t)},registerClearField:function(e){x.send("clearField",e)}}}},{"../../common/log.js":2,"../../common/util.js":3,"../../common/xd.js":4,"./focus-interceptor.js":14}],12:[function(e,t,n){t.exports=function(){return{card:{number:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:11,maxLength:19,inputLength:22},nameOnCard:{mandatory:!1,proxy:!0,alphaNumeric:!0,apiField:!0,minLength:1,maxLength:256},expiryMonth:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:2,maxLength:2},expiryYear:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:2,maxLength:2},securityCode:{mandatory:!1,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:0,maxLength:4},additional:{proxy:"additional"}},ach:{accountType:{mandatory:!0,proxy:!1},bankAccountHolder:{mandatory:!0,proxy:!0,alphaNumeric:!0,apiField:!0,minLength:1,maxLength:28},bankAccountNumber:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:1,maxLength:17},bankAccountNumberConfirmation:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!1,minLength:1,maxLength:17},routingNumber:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:9,maxLength:9},additional:{proxy:"additional"}},directDebitCanada:{accountType:{mandatory:!0,proxy:!1},bankAccountHolder:{mandatory:!0,proxy:!0,alphaNumeric:!0,apiField:!0,minLength:1,maxLength:28},bankAccountNumber:{mandatory:!0,proxy:!0,alphaNumeric:!0,apiField:!0,minLength:7,maxLength:12},bankAccountNumberConfirmation:{mandatory:!0,proxy:!0,alphaNumeric:!0,apiField:!1,minLength:7,maxLength:12},financialInstitutionNumber:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:3,maxLength:3},transitNumber:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:5,maxLength:5},additional:{proxy:"additional"}},giftCard:{number:{mandatory:!0,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:16,maxLength:19},pin:{mandatory:!1,proxy:!0,alphaNumeric:!1,apiField:!0,minLength:4,maxLength:8},additional:{proxy:"additional"}},cardFieldLabels:{number:"Card Number",nameOnCard:"Card Holder Name",securityCode:"Security Code",expiryMonth:"Expiry Month",expiryYear:"Expiry Year"},achFieldLabels:{accountType:"Ach Account Type",bankAccountHolder:"Ach Account Holder",bankAccountNumber:"Ach Account Number",routingNumber:"Ach Routing Number"},giftCardLabels:{number:"Gift Card Number",pin:"Pin"},directDebitCanadaLabels:{accountType:"directDebitCanada Account Type",bankAccountHolder:"directDebitCanada Bank Account Holder",bankAccountNumber:"directDebitCanada Bank Account Number",financialInstitutionNumber:"directDebitCanada Financial Institution Number",transitNumber:"directDebitCanada Transit Number"}}}},{}],13:[function(j,e,t){e.exports=function(e,t,u){var c,v,b=j("../18/nullProxy.js"),x=j("./fieldProxy.js"),n=j("./sessionManager.js"),C=j("../../common/callbacks.js")(),w=j("../../common/log.js")(e),k=j("../../common/util.js")(),i=j("./focus-interceptor.js")(),S={},l=!1,d=n(S,e),E=j("../../vendor/jquery-custom.min.js"),r=j("./fields")(),f=!1,o=r.card,a=r.ach,n=r.giftCard,e=r.directDebitCanada,A=r.cardFieldLabels,N=r.achFieldLabels,F=r.giftCardLabels,T=r.directDebitCanadaLabels,p={card:o,ach:a,giftCard:n,directDebitCanada:e};function s(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("focus",function(){window.focusInMainWindow=!0})})}function h(e,t){var n=E(e).attr("data-hs-scope-id"),r=i.isInterceptorInput(e),t=E(e).attr("data-hs-focus-interceptor-direction")===t;!r||!t||n&&n!==u||(t="string"==typeof(r=E(e).attr("id"))?r.split("-"):null,Array.isArray(t)&&(n=t[1],t=t[2],e.parentNode.removeChild(e),S[n+"."+t].sendData("DESTROY_INTERCEPTOR",r)))}function m(e){for(var t=0;t<e.length;t++)if(e[t]&&k.isElementFocusable(e[t]))return e[t];return null}function L(e,t){if("applyChangeEventValue"===e&&y("card."+t.role,e,t),"applyClearEventValue"===e&&y("card."+t.role,e,t),"validationUpdate"===e)for(var n in t)if(t.hasOwnProperty(n))switch(n){case"cardType":case"enforceCSCEntry":y("card.securityCode",e,t);break;case"expiryMonthStatus":y("card.expiryYear",e,t);break;case"giftCardType":y("giftCard.pin",e,t);break;case"bankAccountNumber":y("ach.bankAccountNumberConfirmation",e,t),y("directDebitCanada.bankAccountNumberConfirmation",e,t)}}function O(){var e=document.createElement("input");e.id="hidden-input",e.style.height="0px",e.style.width="0px",e.style.opacity="0",e.style.padding="0",e.style.position="absolute",e.style.left="50%",e.style.top="0px",document.body.insertBefore(e,document.body.firstChild),e.focus()}function g(n,e,r){E.each(e,function(e,t){S[t]&&S[t].registerEventCallback(n,r)})}function y(e,t,n){S[e]&&S[e].sendData(t,n)}return{initFields:function(r,i){var o,n,a,s;t.enabledForHostedPaymentForm?(o="",(c=r).session&&""!==r.session&&(o=r.session),n=!1,l||(E.each(p,function(e,t){if(n=function(u,c,l,d){var f=!1,p=!1,h=c.fields.ach,m=c.fields.giftCard,g=c.fields.card,y=c.fields.directDebitCanada;if(function(e,t,n){if(e&&"card"===n)return!t.fields.card.expiryMonth&&t.fields.card.expiryYear?(C.invokeOrLog(t,"initialized",{status:"system_error",message:"Field [expiryMonth] is required with field [expiryYear]"}),!0):!(!t.fields.card.expiryMonth||t.fields.card.expiryYear)&&(C.invokeOrLog(t,"initialized",{status:"system_error",message:"Field [expiryYear] is required with field [expiryMonth]"}),!0);return!1}(g,c,l))return!0;return E.each(u,function(e,t){var n;if("ach"===l&&h?n=c.fields.ach[e]:"giftCard"===l&&m?n=c.fields.giftCard[e]:"card"===l&&g?n=c.fields.card[e]:"directDebitCanada"===l&&y&&(n=c.fields.directDebitCanada[e]),t.proxy&&n)return!(p=!0)}),E.each(u,function(e,t){var n,r,i,o,a,s=E.extend({},t,{paymentType:l,role:e,scopeId:d});if("ach"===l&&h?n=c.fields.ach[e]:"giftCard"===l&&m?n=c.fields.giftCard[e]:"card"===l&&g?n=c.fields.card[e]:"directDebitCanada"===l&&y&&(n=c.fields.directDebitCanada[e]),n){if(!1==(r=n,i=e,o=c,a=l,t=document.querySelectorAll(r).length,v=A,"ach"===a?v=N:"giftCard"===a?v=F:"directDebitCanada"===a&&(v=T),0===t?(C.invokeOrLog(o,"initialized",{status:"system_error",message:"Field ["+v[i]+"] not found with selector: "+r}),!1):!(1<t)||(C.invokeOrLog(o,"initialized",{status:"system_error",message:"Duplicate fields found for field ["+v[i]+"] with selector: "+r}),!1)))return!(f=!0);if(s.proxy){if(S[l+"."+e]=x(E,c.baseUrl,c.merchant,n,e,c.debug,c,s,L),!1===S[l+"."+e].create(function(e){C.invoke(c,"initialized",e)}))return!(f=!0)}else{if(!S[l+"."+u.additional.proxy]&&!p)if(S[l+"."+u.additional.proxy]=x(E,c.baseUrl,c.merchant,n,u.additional.proxy,c.debug,c),!1===S[l+"."+u.additional.proxy].createAdditionalData(function(e){C.invoke(c,"initialized",e)}))return!(f=!0);S[l+"."+e]=b(E,n,e),k.needsFocusWorkaround()&&(w.debug("Attaching listener for selector field"),E(n)[0].addEventListener("mouseover",function(){document.getElementById("hidden-input")?this.focus():setTimeout(function(){this.focus()},200)}),E(n)[0].addEventListener("focus",function(){this.setSelectionRange(this.value.length,this.value.length)}),E(n)[0].addEventListener("mouseout",function(e){e&&e.relatedTarget&&"IFRAME"===e.relatedTarget.tagName?setTimeout(function(){O()},50):O()}))}}}),f}(t,r,e,u))return!1}),l=!0),n||(a=(new Date).getTime(),s=setInterval(function(){return 1e5<(new Date).getTime()-a?(clearInterval(s),void C.invokeOrLog(r,"initialized",{status:"system_error",message:"Fields not initialized after 100 seconds."})):void(!0===(t=S,n=!0,E.each(t,function(e,t){if(!1===t.isCreated())return n=!1}),n)&&(clearInterval(s),d.createOrValidateSession(o,r,i),k.needsFocusInterceptor()&&(e=[].slice.call(E(":input")),t=m(e),e=m(e.reverse()),h(t,"back"),h(e,"forward")),w.debug("Registering scroll event listener"),window.addEventListener("scroll",function(e){f||(f=!0,E.each(S,function(e,t){t.isSensitiveFieldProxy()&&t.sendData("parentScroll",{})}),f=!1)}),setInterval(function(){f=!1},1e3)));var e,t,n},50))):C.invokeOrLog(r,"initialized",{status:"system_error",message:"Hosted Session is not enabled."})},addOnTouchStartAttr:function(){(0<=navigator.userAgent.indexOf("Mobile")||0<=navigator.userAgent.indexOf("Android"))&&k.needsFocusWorkaround()&&(E(document).find("input, select").each(function(){E(this).attr("ontouchstart","")}),s("input"),s("select"))},updateSession:function(e,t){void 0!==e&&void 0!==p[e]||C.invokeOrLog(c,"formSessionUpdate",{status:"payment_type_required",message:"PaymentSession.updateSessionFromForm requires a payment type parameter of either 'card', 'ach' or 'giftCard'."}),"giftCard"!==e||t||C.invokeOrLog(c,"formSessionUpdate",{status:"giftCard_type_required",message:"PaymentSession.updateSessionFromForm with a payment type parameter of 'giftCard' requires a gift card type parameter."}),d.updateSession(c,e,t)},setFocus:function(e){S[e]&&S[e].focus()},setFocusStyle:function(e,n){E.each(e,function(e,t){S[t]&&S[t].registerFocusStyle(n)})},setFieldProperty:function(e,n,r){E.each(e,function(e,t){S[t]&&(S[t].registerFieldProperty(n,r),S[t].setFieldProperty(n,r))})},validate:function(r,i){var e,o,a={};a[r]={},a[r].isValid=!0,void 0!==r&&void 0!==p[r]||C.invokeOrLog(c,"validate",{status:"payment_type_required",message:"PaymentSession.validate requires a payment type parameter of either 'card', 'ach' or 'giftCard'."}),c&&c.fields&&c.fields[r]&&(e=Object.keys(c.fields[r]).filter(function(e){return!0===p[r][e].proxy}),o=e?e.length:0,e.forEach(function(e){e=S[r+"."+e];e&&(e.registerEventCallback("validation",function(e,t,n){o--,a[r][n]=t,a[r][n].selector=e,t.isValid||(a[r].isValid=!1),0===o&&i(a)}),e.validate())}))},clearField:function(){Object.keys(S).forEach(function(e){S[e]&&S[e].registerClearField({value:""})})},registerOnMouseOverCallback:function(e,t){g("mouseover",e,t)},registerOnMouseOutCallback:function(e,t){g("mouseout",e,t)},registerOnFocusCallback:function(e,t){g("focus",e,t)},registerOnBlurCallback:function(e,t){g("blur",e,t)},registerOnChangeCallback:function(e,t){g("change",e,t)},registerOnValidityChangeCallback:function(e,t){g("validityChange",e,t)},registerOnCardBINChangeCallback:function(e){g("onCardBINChange",["card.number"],e)},registerOnCardTypeChange:function(e){g("cardTypeChange",["card.number"],e)},registerOnEmptinessChange:function(e,t){g("emptinessChange",e,t)},broadcastSessionId:function(e){y("card.number","sessionId",e)},sendProxyEvent:y}}},{"../../common/callbacks.js":1,"../../common/log.js":2,"../../common/util.js":3,"../../vendor/jquery-custom.min.js":5,"../18/nullProxy.js":6,"./fieldProxy.js":11,"./fields":12,"./focus-interceptor.js":14,"./sessionManager.js":17}],14:[function(e,t,n){t.exports=function(){"use strict";var o=e("../../common/util.js")(),t="data-hs-focus-interceptor-direction";function n(e){return!(!e||!e.hasAttribute(t))}return{create:function(e,t,n){var r=document.createElement("input"),i=["hs",e.paymentType,e.role,t,e.timestamp].join("-");return e.scopeId&&r.setAttribute("data-hs-scope-id",e.scopeId),r.setAttribute("id",i),r.setAttribute("autocomplete","off"),r.setAttribute("aria-hidden","true"),r.setAttribute("data-hs-focus-interceptor-direction",t),r.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"0px !important",left:"-1px !important",opacity:"0% !important",filter:"opacity(0%) !important",overflow:"hidden !important",position:"absolute !important",top:"-1px !important",width:"0px !important",clip:"rect(0 0 0 0) !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),r.addEventListener("focus",function(){n(i,t),o.isAndroidDevice()||o.isAppleDevice()||this.blur()}),r},destroy:function(e){(e=document.getElementById(e))&&n(e)&&e.parentNode.removeChild(e)},isInterceptorInput:n,BACK:"back",FORWARD:"forward"}}},{"../../common/util.js":3}],15:[function(e,t,n){t.exports=function(){"use strict";var r=e("../../common/callbacks.js")(),t=!1,n=!1,i=!1;return{markFieldsInitialised:function(){t=!0},markVisaCheckoutInitialized:function(){n=!0},markAmexExpressCheckoutInitialized:function(){i=!0},notifyIfComplete:function(e){t&&n&&i&&(r.invoke(e,"initialized",{status:"ok"}),i=n=t=!1)},notifyFailure:function(e,t,n){r.invoke(e,"initialized",{status:t,message:n})}}}},{"../../common/callbacks.js":1}],16:[function(i,e,t){e.exports=function(e,t,n){var r=new(i("./fieldsInitializer.js"))(e,t,n);return{configure:function(t,n){t.fields?(r.addOnTouchStartAttr(),r.initFields(t,function(e){n.markFieldsInitialised(),n.notifyIfComplete(t),r.broadcastSessionId(e)})):n.markFieldsInitialised()},updateSessionFromForm:r.updateSession,setFocus:r.setFocus,setFocusStyle:r.setFocusStyle,setFieldProperty:r.setFieldProperty,validate:r.validate,clearField:r.clearField,onFocus:r.registerOnFocusCallback,onBlur:r.registerOnBlurCallback,onChange:r.registerOnChangeCallback,onMouseOver:r.registerOnMouseOverCallback,onMouseOut:r.registerOnMouseOutCallback,onValidityChange:r.registerOnValidityChangeCallback,onCardBINChange:r.registerOnCardBINChangeCallback,onCardTypeChange:r.registerOnCardTypeChange,onEmptinessChange:r.registerOnEmptinessChange,broadcastSessionId:r.broadcastSessionId}}},{"./fieldsInitializer.js":13}],17:[function(t,e,n){e.exports=function(d,e){"use strict";var f,p=t("../../common/log.js")(e),h=t("../../common/callbacks.js")(),m=t("../../vendor/jquery-custom.min.js"),g=t("./fields")(),o="initialized",y="formSessionUpdate";return{updateSession:function(o,a,s){var u=0,c=!1;function r(n,r){if(!1===c){u++;for(var e={},t=0;t<r.length;t++){var i=r[t];e[i.role]=i.getValue()}n.updateSessionWithValue(f,a,e,s,function(e){var t;n.role==e.role&&(u--,e.response.hasOwnProperty("status")&&"ok"==e.response.status?(t="Session "+f+" updated with: "+n.role,0!==r.length&&(t+=" and non-sensitive data."),p.debug(t),0===u&&n.commitSession(f,function(e){var t=e&&e.error&&e.error.explanation;h.invoke(o,y,t||e),"fields_in_error"===e.status&&function(e,t){for(var n in e.errors){var r;e.errors.hasOwnProperty(n)&&(r="cardNumber"===n&&(d.hasOwnProperty("card.number")||d.hasOwnProperty("giftCard.number")),r=r&&"card"===t?"card.number":r&&"giftCard"===t?"giftCard.number":t+"."+n,d.hasOwnProperty(r)&&d[r].onFieldError(e.errors[n]))}}(e,a)})):!1===c&&(p.error("Session update failed."),t=e.response&&e.response.error&&e.response.error.explanation,c=!0,h.invoke(o,y,t||e.response)))})}}var n,i,l=(n=a,i=[],m.each(d,function(e,t){e=e.split(".")[0];t.isSensitiveFieldProxy()||e!==n||i.push(t)}),i);m.each(d,function(e,t){var n=e.split(".")[0];t.isSensitiveFieldProxy()&&n===a&&(e=n,n=t.role,g[e]&&g[e][n]&&!0===g[e][n].apiField)&&(r(t,l),l=[])})},createOrValidateSession:function(e,n,r){var i,t=(i=null,m.each(d,function(e,t){if(t.isSensitiveFieldProxy())return i=t,!1}),i);null!==t?t.createOrValidateSession(e,n,function(e){var t;e.hasOwnProperty("session")?(p.debug("Session Id: "+e.session.id),f=e.session.id,r(e.session.id)):e.hasOwnProperty("errors")?h.invokeOrLog(n,o,{status:"system_error",message:e.errors.message}):(t=e&&e.error&&e.error.explanation,h.invokeOrLog(n,o,{status:"system_error",message:"Failed to create or validate session: "+(t||e)}))}):r()}}}},{"../../common/callbacks.js":1,"../../common/log.js":2,"../../vendor/jquery-custom.min.js":5,"./fields":12}]},{},[10]);
    return PaymentSessionInternal("https://test-nbe.gateway.mastercard.com/form/version/71", "TESTEGPTEST", false, "10", "{  \"enabledForHostedPaymentForm\" : true,  \"enabledForVMe\" : false,  \"enabledForMasterpass\" : false,  \"enabledForAmexExpressCheckout\" : false,  \"requestCounter\" : 0,  \"collectShippingAddress\" : false}");
})();
